(()=>{"use strict";var t={n:e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};require("core-js"),require("regenerator-runtime/runtime");const e=require("express");var r=t.n(e);const n=require("react-router-dom"),o=require("http");var i=t.n(o);const a=require("https");var c=t.n(a);const s=require("react");var u=t.n(s);const l=require("prop-types");var p=t.n(l);const f=require("react-helmet"),d=require("@oracle/content-management-sdk");var m=null;function h(){if(null===m){var t=null,e={contentServer:"https://stcdemo-zshakboua.cec.ocp.oraclecloud.com/",contentVersion:"v1.1",channelToken:"c46a413c56c54369ae4a17e0eed6665a",options:null,authorization:void 0,authorizationParams:t};m=(0,d.createDeliveryClient)(e)}return m}function y(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){E(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function E(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==v(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===v(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P(t,e){e&&e.statusMessage?console.log("".concat(t," : "),e.statusMessage):e.error&&e.error.code&&"ETIMEDOUT"===e.error.code?console.log("".concat(t," : "),e):e.error&&e.error.code?console.log("".concat(t," : "),e.error.code):e&&console.error(t,e)}function w(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=0,n=t.length;r<n;r+=1){var o=t[r];Array.isArray(o)?w(o,e):e.push(o)}return e}function O(t,e,r){var n=e.formats.filter((function(t){return t.format==="".concat(r)}))[0],o=n.links.filter((function(t){return"self"===t.rel}))[0].href,i=n.metadata.width;"jpg"===r?(t[e.name.toLowerCase()]=o,t.jpgSrcset+="".concat(o," ").concat(i,"w,")):t.srcset+="".concat(o," ").concat(i,"w,")}function S(t){var e={srcset:"",jpgSrcset:""};return t.fields&&t.fields.renditions&&t.fields.renditions.forEach((function(t){O(e,t,"jpg"),O(e,t,"webp")})),e.srcset+="".concat(t.fields.native.links[0].href," ").concat(t.fields.metadata.width,"w"),e.native=t.fields.native.links[0].href,e.width=t.fields.metadata.width,e.height=t.fields.metadata.height,e}function j(t,e){return t.getItem({id:e,expand:"fields.renditions"}).then((function(t){return S(t)})).catch((function(t){return P("Fetching Rendition URLs failed",t)}))}function R(t){return t.queryItems({q:'(type eq "OCEGettingStartedHomePage" AND name eq "Home Page")'}).then((function(e){var r=e.items[0].fields.company_logo.id,n=e.items[0].fields.company_name,o=e.items[0].fields.about_url,i=e.items[0].fields.contact_url,a=e.items[0].fields.topics,c=[];return a.forEach((function(e){c.push(function(t,e){return t.getItem({id:e,expand:"fields.thumbnail"}).then((function(t){return t.renditionUrls=S(t.fields.thumbnail),t})).catch((function(t){return P("Fetching topic failed",t)}))}(t,e.id).then((function(t){return t})))})),Promise.all(c).then((function(t){return{logoID:r,companyTitle:n,aboutUrl:o,contactUrl:i,topics:w(t)}})).catch((function(t){return P("Fetching topics failed",t)}))})).catch((function(t){return P("Fetching home page data failed",t)}))}function q(){var t=h();return R(t).then((function(e){return j(t,e.logoID).then((function(t){return e.companyThumbnailRenditionUrls=t,e}))}))}function I(t){var e=h();return e.queryItems({q:'(type eq "OCEGettingStartedArticle" AND fields.topic eq "'.concat(t,'")'),orderBy:"fields.published_date:desc"}).then((function(r){var n=[];return r.items.forEach((function(t){n.push(j(e,t.fields.image.id).then((function(e){return t.renditionUrls=e,g({},t)})))})),Promise.all(n).then((function(e){return{topicId:t,articles:w(e)}}))})).catch((function(t){return P("Fetching topic articles failed",t)}))}function N(t){var e=h();return e.getItem({id:t,expand:"fields.author,fields.image"}).then((function(r){var n=r.fields.author.name,o=r.fields.published_date,i=r.fields.article_content,a=r.fields.image_caption,c=r.name,s=S(r.fields.image),u=r.fields.author.fields.avatar.id;return j(e,u).then((function(e){return{id:t,name:c,title:n,date:o,content:i,imageCaption:a,renditionUrls:s,authorRenditionUrls:e}}))})).catch((function(t){return P("Fetching article details failed",t)}))}function x(t){var e=h();return e.queryItems({q:'(type eq "Product" AND fields.topic eq "'.concat(t,'")')}).then((function(r){var n=[];return r.items.forEach((function(t){n.push(j(e,t.fields.productImage.id).then((function(e){return t.renditionUrls=e,g({},t)})))})),Promise.all(n).then((function(e){return{topicId:t,products:w(e)}}))})).catch((function(t){return P("Fetching topic products failed",t)}))}function D(t){var e=h();return e.getItem({id:t,expand:"fields.producer,fields.productImage"}).then((function(r){var n=r.fields.producer.fields.avatar.id,o=r.description,i=r.fields.producer.name,a=r.fields.productDetails,c=r.fields.productColor,s=r.fields.productStorage,u=r.name,l=S(r.fields.productImage);return j(e,n).then((function(e){return{id:t,name:u,description:o,title:i,content:a,productColor:c,productStorage:s,renditionUrls:l,producerRenditionUrls:e}}))})).catch((function(t){return P("Fetching product details failed",t)}))}function T(t){return h().queryItems({q:'(type eq "YoutubeVideos" AND fields.topic eq "'.concat(t,'")')}).then((function(e){var r=[];return e.items.forEach((function(t){r.push(t)})),Promise.all(r).then((function(e){return{topicId:t,videos:w(e)}}))})).catch((function(t){return P("Fetching topic videos failed",t)}))}var U=function(t){var e=t.companyTitle,r=t.companyThumbnailRenditionUrls,n=t.aboutUrl,o=t.contactUrl;return u().createElement("div",{className:"logo","data-testid":"Header"},r&&u().createElement("picture",{id:"company-thumbnail"},u().createElement("source",{type:"image/webp",srcSet:r.srcset,sizes:"(max-width: 480px) 60vw, 25vw"}),u().createElement("img",{src:r.native,alt:"Company icon",width:.85*r.width,height:.85*r.height})),u().createElement("h1",{id:"company-title"},e),u().createElement("ul",null,u().createElement("li",null,u().createElement("a",{id:"about",href:n},"About Us")),u().createElement("li",null,u().createElement("a",{id:"contact",href:o},"Contact Us"))))};const k=U;U.propTypes={companyTitle:p().string.isRequired,companyThumbnailRenditionUrls:p().shape().isRequired,aboutUrl:p().string.isRequired,contactUrl:p().string.isRequired};var _=function(t){var e=t.topic,r=e.id,o=e.name,i=e.description,a=e.renditionUrls;return u().createElement(n.Link,{to:{pathname:"/".concat("Deals and Offers"==o?"videos":"products","/").concat(r),search:"?topicName=".concat(o)},style:{textDecoration:"none"}},u().createElement("div",{className:"topic"},u().createElement("div",{className:"button-wrapper"},u().createElement("div",{className:"button"},o)),a&&u().createElement("picture",null,u().createElement("source",{type:"image/webp",srcSet:a.srcset,sizes:"300px"}),u().createElement("source",{srcSet:a.jpgSrcset,sizes:"300px"}),u().createElement("img",{src:a.thumbnail,alt:"Topic Thumbnail"})),u().createElement("div",{className:"desc-wrapper"},u().createElement("div",{className:"description"},i))))};const C=_;function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==A(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===A(i)?i:String(i)),n)}var o,i}function B(t,e){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},B(t,e)}function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=F(t);if(e){var o=F(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return L(this,r)}}function L(t,e){if(e&&("object"===A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}_.propTypes={topic:p().shape({id:p().string.isRequired,name:p().string.isRequired,description:p().string,renditionUrls:p().shape().isRequired}).isRequired};var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}(i,t);var e,r,n,o=H(i);function i(t){var e,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r=(e=o.call(this,t)).props.staticContext.data,e.state={data:r,loading:!r},e}return e=i,(r=[{key:"componentDidMount",value:function(){var t=this.state.data;document.title="STC Home",t||this.fetchData()}},{key:"fetchData",value:function(){var t=this;this.setState((function(){return{loading:!0}})),q().then((function(e){t.setState({data:e,loading:!1})}))}},{key:"render",value:function(){var t=this.state,e=t.loading,r=t.data;if(!0===e||!r)return u().createElement("div",{className:"progress-spinner"});var n=r.companyTitle,o=r.companyThumbnailRenditionUrls,i=r.aboutUrl,a=r.contactUrl,c=r.topics;return u().createElement("div",{"data-testid":"TopicsListContainer"},u().createElement(f.Helmet,null,u().createElement("meta",{name:"BUILD_TAG",content:"".concat("none")}),u().createElement("meta",{name:"@oracle/gatsby-source-oce",content:"".concat("1.4.2")})),u().createElement(k,{companyTitle:n,companyThumbnailRenditionUrls:o,aboutUrl:i,contactUrl:a}),c&&u().createElement("div",{id:"topics"},c.map((function(t){return u().createElement(C,{topic:t,key:t.id})}))))}}])&&z(e.prototype,r),n&&z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(u().Component);const M={fetchInitialData:function(){return q()},component:Q};Q.propTypes={staticContext:p().shape({data:p().shape({})})},Q.defaultProps={staticContext:{}};var V=function(t){var e=t.article,r=t.topicName,o=t.topicId,i="Posted on ".concat(y(e.fields.published_date.value));return u().createElement(n.Link,{to:{pathname:"/article/".concat(e.id),search:"?topicName=".concat(r,"&topicId=").concat(o)},style:{textDecoration:"none"}},u().createElement("div",{className:"article"},u().createElement("div",{className:"title-date"},u().createElement("h4",{className:"title"},e.name),u().createElement("div",{className:"date"},i)),e.renditionUrls&&u().createElement("picture",null,u().createElement("source",{type:"image/webp",srcSet:e.renditionUrls.srcset,sizes:"80px"}),u().createElement("source",{srcSet:e.renditionUrls.jpgSrcset,sizes:"80px"}),u().createElement("img",{src:e.renditionUrls.small,alt:"Article thumbnail",width:e.renditionUrls.width,height:e.renditionUrls.height})),u().createElement("div",{className:"description"},e.description)))};const G=V;V.propTypes={topicId:p().string.isRequired,topicName:p().string.isRequired,article:p().shape({id:p().string.isRequired,name:p().string.isRequired,description:p().string,renditionUrls:p().shape().isRequired,fields:p().shape({published_date:p().shape({value:p().string.isRequired})})}).isRequired};var Y=function(t){var e=t.linkParams,r=t.text,o=Object.keys(e).length>0&&e.constructor===Object;return u().createElement("li",null,o?u().createElement(n.Link,{to:e},r):r)};const W=Y;Y.propTypes={linkParams:p().shape({pathname:p().string,search:p().string}),text:p().string.isRequired},Y.defaultProps={linkParams:{}};var J=function(t){var e=t.breadcrumbsData;return u().createElement("div",{id:"breadcrumb"},u().createElement("ul",null,e.map((function(t){return u().createElement(W,{key:t.text,linkParams:t.linkParams,text:t.text})}))))};const K=J;function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==X(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===X(i)?i:String(i)),n)}var o,i}function $(t,e){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$(t,e)}function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=rt(t);if(e){var o=rt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return et(this,r)}}function et(t,e){if(e&&("object"===X(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function rt(t){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rt(t)}J.propTypes={breadcrumbsData:p().arrayOf(p().shape({BreadCrumb:W}.propTypes)).isRequired};var nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$(t,e)}(i,t);var e,r,n,o=tt(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var r,n,a=(e=o.call(this,t)).props.match.params.topicId,c=e.props.staticContext;return r=c.data,n=c.requestQueryParams.topicName,e.state={data:r,loading:!r,topicName:n,topicId:a},e}return e=i,(r=[{key:"componentDidMount",value:function(){document.title="Articles";var t=this.state,e=t.data,r=t.topicId;e||this.fetchData(r)}},{key:"componentDidUpdate",value:function(t){var e=this.state.topicId;t.match.params.topicId!==e&&this.fetchData(e)}},{key:"fetchData",value:function(t){var e=this;this.setState((function(){return{loading:!0}})),I(t).then((function(t){return e.setState((function(){return{data:t,loading:!1}}))}))}},{key:"render",value:function(){var t=this.state,e=t.loading,r=t.data,n=t.topicName,o=t.topicId,i=[{linkParams:{pathname:"/"},text:"Home"},{linkParams:{},text:n}];return!0===e?u().createElement("div",{className:"progress-spinner"}):u().createElement("div",{"data-testid":"ArticlesListContainer"},u().createElement(K,{breadcrumbsData:i}),r.articles&&u().createElement("div",{id:"articles"},r.articles.map((function(t){return u().createElement(G,{article:t,key:t.id,topicName:n,topicId:o})}))))}}])&&Z(e.prototype,r),n&&Z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(u().Component);const ot={fetchInitialData:function(t){return I(t.path.split("/").pop())},component:nt};nt.propTypes={staticContext:p().shape({data:p().shape(),requestQueryParams:p().shape({topicName:p().string})}),match:p().shape({params:p().shape({topicId:p().string})}).isRequired,location:p().shape({search:p().string}).isRequired},nt.defaultProps={staticContext:{}};const it=require("xss");var at=t.n(it);function ct(t){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(t)}function st(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==ct(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ct(i)?i:String(i)),n)}var o,i}function ut(t,e){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ut(t,e)}function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ft(t);if(e){var o=ft(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return pt(this,r)}}function pt(t,e){if(e&&("object"===ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ft(t){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ft(t)}var dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ut(t,e)}(i,t);var e,r,n,o=lt(i);function i(t){var e,r,n,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var c=(e=o.call(this,t)).props.staticContext;return r=c.data,n=c.requestQueryParams.topicName,a=c.requestQueryParams.topicId,e.state={data:r,loading:!r,topicId:a,topicName:n},e}return e=i,(r=[{key:"componentDidMount",value:function(){document.title="Article";var t=this.props.match;this.state.data||this.fetchData(t.params.articleId)}},{key:"componentDidUpdate",value:function(t){var e=this.props.match;t.match.params.articleId!==e.params.articleId&&this.fetchData(e.params.articleId)}},{key:"fetchData",value:function(t){var e=this;this.setState((function(){return{loading:!0}})),N(t).then((function(t){return e.setState((function(){return{data:t,loading:!1}}))}))}},{key:"render",value:function(){var t=this.state,e=t.loading,r=t.data,n=t.topicId,o=t.topicName;if(!0===e)return u().createElement("div",{className:"progress-spinner"});var i=r.name,a=r.title,c=r.date,s=r.content,l=r.imageCaption,p=[{linkParams:{pathname:"/"},text:"Home"},{linkParams:{pathname:"/articles/".concat(n),search:"?topicName=".concat(o)},text:o},{linkParams:{},text:i}],f=c&&c.value?"Posted on ".concat(y(c.value)):"",d=at()(s,{stripIgnoreTag:!0,stripIgnoreTagBody:["script"]});return u().createElement("div",null,u().createElement(K,{breadcrumbsData:p}),u().createElement("div",{id:"article"},u().createElement("div",{className:"author"},r.authorRenditionUrls&&u().createElement("picture",null,u().createElement("source",{type:"image/webp",srcSet:r.authorRenditionUrls.srcset,sizes:"80px"}),u().createElement("source",{srcSet:r.authorRenditionUrls.jpgSrcset,sizes:"80px"}),u().createElement("img",{src:r.authorRenditionUrls.small,alt:"Author Avatar"})),u().createElement("div",{className:"name_date"},u().createElement("h4",{className:"title"},a),u().createElement("div",{className:"date"},f," "))),u().createElement("figure",null,r.renditionUrls&&u().createElement("picture",null,u().createElement("source",{type:"image/webp",srcSet:r.renditionUrls.srcset}),u().createElement("source",{srcSet:r.renditionUrls.jpgSrcset}),u().createElement("img",{src:r.renditionUrls.large,alt:"Article",width:r.renditionUrls.width,height:r.renditionUrls.height})),u().createElement("figcaption",null,l)),u().createElement("div",{className:"content"},-1!==s.indexOf("</")?u().createElement("div",{dangerouslySetInnerHTML:{__html:d}}):d)))}}])&&st(e.prototype,r),n&&st(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(u().Component);const mt={fetchInitialData:function(t){return N(t.path.split("/").pop())},component:dt};dt.propTypes={staticContext:p().shape({data:p().shape({}),requestQueryParams:p().shape({topicName:p().string,topicId:p().string})}),match:p().shape({params:p().shape({articleId:p().string})}).isRequired,location:p().shape({search:p().string}).isRequired},dt.defaultProps={staticContext:{}};var ht=function(t){var e=t.product,r=t.topicName,o=t.topicId;return u().createElement(n.Link,{to:{pathname:"/product/".concat(e.id),search:"?topicName=".concat(r,"&topicId=").concat(o)},style:{textDecoration:"none"}},u().createElement("div",{className:"article"},u().createElement("div",{className:"title-date"},u().createElement("h4",{className:"title"},e.name)),e.renditionUrls&&u().createElement("picture",null,u().createElement("source",{type:"image/webp",srcSet:e.renditionUrls.srcset,sizes:"80px"}),u().createElement("source",{srcSet:e.renditionUrls.jpgSrcset,sizes:"80px"}),u().createElement("img",{src:e.renditionUrls.small,alt:"Product thumbnail",width:e.renditionUrls.width,height:e.renditionUrls.height})),u().createElement("div",{className:"description"},e.description)))};const yt=ht;function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}function bt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==vt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===vt(i)?i:String(i)),n)}var o,i}function gt(t,e){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gt(t,e)}function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=wt(t);if(e){var o=wt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Pt(this,r)}}function Pt(t,e){if(e&&("object"===vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function wt(t){return wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wt(t)}ht.propTypes={topicId:p().string.isRequired,topicName:p().string.isRequired,product:p().shape({id:p().string.isRequired,name:p().string.isRequired,description:p().string,renditionUrls:p().shape().isRequired,fields:p().shape({releaseDate:p().shape({value:p().string.isRequired})})}).isRequired};var Ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gt(t,e)}(i,t);var e,r,n,o=Et(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var r,n,a=(e=o.call(this,t)).props.match.params.topicId,c=e.props.staticContext;return r=c.data,n=c.requestQueryParams.topicName,e.state={data:r,loading:!r,topicName:n,topicId:a},e}return e=i,(r=[{key:"componentDidMount",value:function(){document.title="Products";var t=this.state,e=t.data,r=t.topicId;e||this.fetchData(r)}},{key:"componentDidUpdate",value:function(t){var e=this.state.topicId;t.match.params.topicId!==e&&this.fetchData(e)}},{key:"fetchData",value:function(t){var e=this;this.setState((function(){return{loading:!0}})),x(t).then((function(t){return e.setState((function(){return{data:t,loading:!1}}))}))}},{key:"render",value:function(){var t=this.state,e=t.loading,r=t.data,n=t.topicName,o=t.topicId,i=[{linkParams:{pathname:"/"},text:"Home"},{linkParams:{},text:n}];return!0===e?u().createElement("div",{className:"progress-spinner"}):u().createElement("div",{"data-testid":"ProductsListContainer"},u().createElement(K,{breadcrumbsData:i}),r.products&&u().createElement("div",{id:"articles"},r.products.map((function(t){return u().createElement(yt,{product:t,key:t.id,topicName:n,topicId:o})}))))}}])&&bt(e.prototype,r),n&&bt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(u().Component);const St={fetchInitialData:function(t){return x(t.path.split("/").pop())},component:Ot};function jt(t){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(t)}function Rt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==jt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==jt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===jt(i)?i:String(i)),n)}var o,i}function qt(t,e){return qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qt(t,e)}function It(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=xt(t);if(e){var o=xt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Nt(this,r)}}function Nt(t,e){if(e&&("object"===jt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function xt(t){return xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xt(t)}Ot.propTypes={staticContext:p().shape({data:p().shape(),requestQueryParams:p().shape({topicName:p().string})}),match:p().shape({params:p().shape({topicId:p().string})}).isRequired,location:p().shape({search:p().string}).isRequired},Ot.defaultProps={staticContext:{}};var Dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qt(t,e)}(i,t);var e,r,n,o=It(i);function i(t){var e,r,n,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var c=(e=o.call(this,t)).props.staticContext;return r=c.data,n=c.requestQueryParams.topicName,a=c.requestQueryParams.topicId,e.state={data:r,loading:!r,topicId:a,topicName:n},e}return e=i,(r=[{key:"componentDidMount",value:function(){document.title="Product";var t=this.props.match;this.state.data||this.fetchData(t.params.productId)}},{key:"componentDidUpdate",value:function(t){var e=this.props.match;t.match.params.productId!==e.params.productId&&this.fetchData(e.params.productId)}},{key:"fetchData",value:function(t){var e=this;this.setState((function(){return{loading:!0}})),D(t).then((function(t){return e.setState((function(){return{data:t,loading:!1}}))}))}},{key:"render",value:function(){var t=this.state,e=t.loading,r=t.data,n=t.topicId,o=t.topicName;if(!0===e)return u().createElement("div",{className:"progress-spinner"});var i=r.name,a=r.description,c=r.title,s=r.content,l=r.productColor,p=r.productStorage,f=[{linkParams:{pathname:"/"},text:"Home"},{linkParams:{pathname:"/products/".concat(n),search:"?topicName=".concat(o)},text:o},{linkParams:{},text:i}],d=at()(s,{stripIgnoreTag:!0,stripIgnoreTagBody:["script"]});return u().createElement("div",null,u().createElement(K,{breadcrumbsData:f}),u().createElement("div",{id:"article"},u().createElement("div",{className:"author"},r.producerRenditionUrls&&u().createElement("picture",null,u().createElement("source",{type:"image/webp",srcSet:r.producerRenditionUrls.srcset,sizes:"80px"}),u().createElement("source",{srcSet:r.producerRenditionUrls.jpgSrcset,sizes:"80px"}),u().createElement("img",{src:r.producerRenditionUrls.small,alt:"Producer Avatar"})),u().createElement("div",{className:"name_date"},u().createElement("h4",{className:"specs"},c),u().createElement("h4",{className:"specs"},p),u().createElement("h4",{className:"specs"},l))),u().createElement("div",{className:"align-product"},u().createElement("figure",null,r.renditionUrls&&u().createElement("picture",null,u().createElement("source",{type:"image/webp",srcSet:r.renditionUrls.srcset}),u().createElement("source",{srcSet:r.renditionUrls.jpgSrcset}),u().createElement("img",{src:r.renditionUrls.large,alt:"Product",width:r.renditionUrls.width,height:r.renditionUrls.height}))),u().createElement("div",{className:"content"},a,-1!==s.indexOf("</")?u().createElement("div",{dangerouslySetInnerHTML:{__html:d}}):d))))}}])&&Rt(e.prototype,r),n&&Rt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(u().Component);const Tt={fetchInitialData:function(t){return D(t.path.split("/").pop())},component:Dt};Dt.propTypes={staticContext:p().shape({data:p().shape({}),requestQueryParams:p().shape({topicName:p().string,topicId:p().string})}),match:p().shape({params:p().shape({productId:p().string})}).isRequired,location:p().shape({search:p().string}).isRequired},Dt.defaultProps={staticContext:{}};var Ut=function(t){var e=t.video;t.topicName,t.topicId;return u().createElement("a",{href:e.fields.videoBrowseUrl},u().createElement("div",{className:"article"},u().createElement("div",{className:"title-date"},u().createElement("h4",{className:"title"},e.fields.videoTitle)),e.fields.videoThumbnailUrl&&u().createElement("picture",null,u().createElement("source",{type:"image/webp",srcSet:e.fields.videoThumbnailUrl,sizes:"80px"}),u().createElement("source",{srcSet:e.fields.videoThumbnailUrl,sizes:"80px"}),u().createElement("img",{src:e.fields.videoThumbnailUrl,alt:"Video thumbnail"})),u().createElement("div",{className:"description"},e.fields.videoDescription)))};const kt=Ut;function _t(t){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(t)}function Ct(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==_t(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==_t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===_t(i)?i:String(i)),n)}var o,i}function At(t,e){return At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},At(t,e)}function zt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ht(t);if(e){var o=Ht(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Bt(this,r)}}function Bt(t,e){if(e&&("object"===_t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ht(t){return Ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ht(t)}Ut.propTypes={topicId:p().string.isRequired,topicName:p().string.isRequired,video:p().shape({id:p().string.isRequired,fields:p().shape({videoTitle:p().string.isRequired,videoDescription:p().string.isRequired,videoThumbnailUrl:p().string.isRequired,videoBrowseUrl:p().string.isRequired,releaseDate:p().shape({value:p().string.isRequired})})}).isRequired};var Lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&At(t,e)}(i,t);var e,r,n,o=zt(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var r,n,a=(e=o.call(this,t)).props.match.params.topicId,c=e.props.staticContext;return r=c.data,n=c.requestQueryParams.topicName,e.state={data:r,loading:!r,topicName:n,topicId:a},e}return e=i,(r=[{key:"componentDidMount",value:function(){document.title="Videos";var t=this.state,e=t.data,r=t.topicId;e||this.fetchData(r)}},{key:"componentDidUpdate",value:function(t){var e=this.state.topicId;t.match.params.topicId!==e&&this.fetchData(e)}},{key:"fetchData",value:function(t){var e=this;this.setState((function(){return{loading:!0}})),T(t).then((function(t){return e.setState((function(){return{data:t,loading:!1}}))}))}},{key:"render",value:function(){var t=this.state,e=t.loading,r=t.data,n=t.topicName,o=t.topicId,i=[{linkParams:{pathname:"/"},text:"Home"},{linkParams:{},text:n}];return!0===e?u().createElement("div",{className:"progress-spinner"}):u().createElement("div",{"data-testid":"VideosListContainer"},u().createElement(K,{breadcrumbsData:i}),r.videos&&u().createElement("div",{id:"articles"},r.videos.map((function(t){return u().createElement(kt,{video:t,key:t.id,topicName:n,topicId:o})}))))}}])&&Ct(e.prototype,r),n&&Ct(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(u().Component);const Ft={fetchInitialData:function(t){return T(t.path.split("/").pop())},component:Lt};Lt.propTypes={staticContext:p().shape({data:p().shape(),requestQueryParams:p().shape({topicName:p().string})}),match:p().shape({params:p().shape({topicId:p().string})}).isRequired,location:p().shape({search:p().string}).isRequired},Lt.defaultProps={staticContext:{}};var Qt=function(t){var e=t.staticContext;return(void 0===e?{}:e).notFound=!0,u().createElement("h1",{className:"error"},"Sorry, the page you are requesting has not been found.")};const Mt={component:Qt};function Vt(t){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(t)}function Gt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(r),!0).forEach((function(e){Wt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Wt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Vt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Vt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Qt.propTypes={staticContext:p().shape({notFound:p().string})},Qt.defaultProps={staticContext:{}};const Jt=[Yt(Yt({},M),{},{path:"/",exact:!0,title:"Topics"}),Yt(Yt({},ot),{},{path:"/articles/:topicId",exact:!0,title:"Articles"}),Yt(Yt({},mt),{},{path:"/article/:articleId",exact:!0,title:"Article"}),Yt(Yt({},St),{},{path:"/products/:topicId",exact:!0,title:"Prodcuts"}),Yt(Yt({},Tt),{},{path:"/product/:productId",exact:!0,title:"Product"}),Yt(Yt({},Ft),{},{path:"/videos/:topicId",exact:!0,title:"Videos"}),Yt(Yt({},Mt),{},{path:"*",exact:!1,title:"Page Not Found"})],Kt=require("react-dom/server"),Xt=require("react-router-config"),Zt=require("serialize-javascript");var $t=t.n(Zt);var te=r()();te.use(r().static("public")),te.use("/content/",(function(t,e){h().getAuthorizationHeaderValue().then((function(r){!function(t,e,r){if("GET"===t.method){var n="/"==="https://stcdemo-zshakboua.cec.ocp.oraclecloud.com/".charAt("https://stcdemo-zshakboua.cec.ocp.oraclecloud.com/".length-1)?"content":"/content";"/"!==t.url.charAt(0)&&(n="".concat(n,"/"));var o="".concat("https://stcdemo-zshakboua.cec.ocp.oraclecloud.com/").concat(n).concat(t.url),a={};r&&(a.headers={Authorization:r});var s=function(t){e.writeHead(t.statusCode,t.headers),t.pipe(e,{end:!0})},u=o.startsWith("https")?c().request(o,a,(function(t){return s(t)})):i().request(o,a,(function(t){return s(t)}));t.pipe(u,{end:!0})}}(t,e,r)}))})),te.get("*",(function(t,e){var r=Jt.find((function(e){return(0,n.matchPath)(t.url,e)}))||{};(r.fetchInitialData?r.fetchInitialData(t):Promise.resolve()).then((function(r){var o={data:r,requestQueryParams:t.query},i=function(t,e){var r=(0,Kt.renderToString)(u().createElement(n.StaticRouter,{context:e,location:t.path,basename:""},u().createElement("div",null,(0,Xt.renderRoutes)(Jt)))),o=f.Helmet.renderStatic(),i="".concat("","/styles.css"),a="".concat("","/favicon.png"),c="".concat("","/client-bundle.js");return'\n    <!DOCTYPE html>\n    <html lang="en-us">\n      <head>\n        <meta charset="utf-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1">\n        <meta name="description" content="Sample blog app created in React that utilizes the content sdk library">\n\n        <title>Blog - React</title>\n        <link rel="icon" href="'.concat(a,'" type="image/png">\n        <link rel="stylesheet" href="').concat(i,'" type="text/css">\n        ').concat(o.meta.toString(),'\n      </head>\n\n      <body>\n        <div id="root">').concat(r,"</div>\n        <script>\n          window.INITIAL_DATA = ").concat($t()(e.data),'\n        <\/script>\n        <script src="').concat(c,'"><\/script>\n      </body>\n    </html>\n  ')}(t,o);o.notFound&&e.status(404),e.send(i)}))}));var ee=process.env.PORT||8080;te.listen(ee,(function(){console.log("Application is accessible on : http://localhost:".concat(ee))}))})();
//# sourceMappingURL=server-bundle.js.map